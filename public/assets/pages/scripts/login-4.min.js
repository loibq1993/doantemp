var Login=function(){var handleLogin=function(){$('.login-form').validate({errorElement:'span',errorClass:'help-block',focusInvalid:!1,rules:{username:{required:!0,email:!0},password:{required:!0},remember:{required:!1}},messages:{username:{required:"Đây là trường bắt buộc nhập.",email:"Định dạng email không chính xác."},password:{required:"Đây là trường bắt buộc nhập."}},invalidHandler:function(event,validator){$('.alert-danger',$('.login-form')).show()},highlight:function(element){$(element).closest('.form-group').addClass('has-error')},success:function(label){label.closest('.form-group').removeClass('has-error');label.remove()},errorPlacement:function(error,element){error.insertAfter(element.closest('.input-icon'))},submitHandler:function(form){form.submit()}});$('.login-form input').keypress(function(e){if(e.which==13){if($('.login-form').validate().form()){$('.login-form').submit()}
    return!1}})}
    var handleForgetPassword=function(){$('.forget-form').validate({errorElement:'span',errorClass:'help-block',focusInvalid:!1,ignore:"",rules:{email:{required:!0,email:!0}},messages:{email:{required:"Email là trường bắt buộc.",email:"Định dạng email không chính xác."}},invalidHandler:function(event,validator){},highlight:function(element){$(element).closest('.form-group').addClass('has-error')},success:function(label){label.closest('.form-group').removeClass('has-error');label.remove()},errorPlacement:function(error,element){error.insertAfter(element.closest('.input-icon'))},submitHandler:function(form){form.submit()}});$('.forget-form input').keypress(function(e){if(e.which==13){if($('.forget-form').validate().form()){$('.forget-form').submit()}
        return!1}});jQuery('#forget-password').click(function(){jQuery('.login-form').hide();jQuery('.forget-form').show()});jQuery('#back-btn').click(function(){jQuery('.login-form').show();jQuery('.forget-form').hide()})}
    var handleRegister=function(){function format(state){if(!state.id){return state.text}
        var $state=$('<span><img src="../assets/global/img/flags/'+state.element.value.toLowerCase()+'.png" class="img-flag" /> '+state.text+'</span>');return $state}
        if(jQuery().select2&&$('#country_list').size()>0){$("#country_list").select2({placeholder:'<i class="fa fa-map-marker"></i>&nbsp;Select a Country',templateResult:format,templateSelection:format,width:'auto',escapeMarkup:function(m){return m}});$('#country_list').change(function(){$('.register-form').validate().element($(this))})}
        $('.register-form').validate({errorElement:'span',errorClass:'help-block',focusInvalid:!1,ignore:"",rules:{email:{required:!0,email:!0},username:{required:!0},password:{required:!0},selectplace:{required:!0},rpassword:{equalTo:"#register_password"},},messages:{username:{required:"Đây là trường bắt buộc nhập.",},email:{required:"Đây là trường bắt buộc nhập.",email:"Định dạng email không chính xác."},password:{required:"Đây là trường bắt buộc nhập."},selectplace:{required:"Đây là trường bắt buộc nhập."},rpassword:{required:"Đây là trường bắt buộc nhập.",equalTo:"Mật khẩu không trùng khớp."}},invalidHandler:function(event,validator){},highlight:function(element){$(element).closest('.form-group').addClass('has-error')},success:function(label){label.closest('.form-group').removeClass('has-error');label.remove()},errorPlacement:function(error,element){if(element.attr("name")=="tnc"){error.insertAfter($('#register_tnc_error'))}else if(element.closest('.input-icon').size()===1){error.insertAfter(element.closest('.input-icon'))}else{error.insertAfter(element)}},submitHandler:function(form){form.submit()}});$('.register-form input').keypress(function(e){if(e.which==13){if($('.register-form').validate().form()){$('.register-form').submit()}
            return!1}});jQuery('#register-btn').click(function(){jQuery('.login-form').hide();jQuery('.register-form').show()});jQuery('#register-back-btn').click(function(){jQuery('.login-form').show();jQuery('.register-form').hide()})}
    return{init:function(){handleLogin();handleForgetPassword();handleRegister();$.backstretch(["../assets/pages/media/bg/1.jpg","../assets/pages/media/bg/2.jpg","../assets/pages/media/bg/3.jpg","../assets/pages/media/bg/4.jpg"],{fade:1000,duration:8000})}}}();jQuery(document).ready(function(){Login.init()})
